<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pedidos | Verdulería Macarthur</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="./css/estilopedido.css" />
  <link rel="stylesheet" href="./css/estilo.css" />
</head>
<body>
  <!-- Header -->
  <header class="bg-success text-white py-3 shadow">
    <div class="container text-center">
      <h1 class="mb-0">Verdulería Macarthur</h1>
      <nav class="mt-3">
        <ul class="nav justify-content-center menuhorizontal">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle text-white" href="#" data-bs-toggle="dropdown">Productos</a>
            <ul class="dropdown-menu menuvertical">
              <li><a class="dropdown-item" href="Ververduras.html">Ver Verduras</a></li>
              <li><a class="dropdown-item" href="Verfrutas.html">Ver Frutas</a></li>
              <li><a class="dropdown-item" href="Vercondimentos.html">Ver Condimentos</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle text-white" href="#" data-bs-toggle="dropdown">Ofertas de Hoy</a>
            <ul class="dropdown-menu menuvertical">
              <li><a class="dropdown-item" href="ofertasdefrutashoy.html">Ofertas de Frutas</a></li>
              <li><a class="dropdown-item" href="ofertasdeverdurashoy.html">Ofertas de Verduras</a></li>
            </ul>
          </li>
          <li class="nav-item"><a class="nav-link text-white" href="contacto.html">Contacto</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Main -->
  <main class="container my-5">
    <!-- Agradecimiento -->
    <section class="text-center mb-4">
      <h3 id="aceptado">¡Gracias por su compra!</h3>
      <div id="detalle"></div>
    </section>

    <!-- Formulario -->
    <section>
      <form id="formulario" action="https://formspree.io/f/meojyjlg" method="POST" class="bg-white p-4 rounded shadow">
        <!-- Datos ocultos -->
        <textarea id="carritoData" name="carrito" hidden></textarea>
        <textarea id="totalCarrito" name="total" hidden></textarea>

        <!-- Datos personales -->
        <fieldset class="mb-4">
          <legend class="text-success">Datos Personales</legend>

          <div class="mb-3">
            <label for="nombre" class="form-label">Nombre:</label>
            <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Ingresa tu nombre" required />
          </div>

          <div class="mb-3">
            <label for="telefono" class="form-label">Teléfono:</label>
            <input type="tel" class="form-control" id="telefono" name="telefono" placeholder="Ingresa tu teléfono" required />
          </div>

          <div class="mb-3">
            <label for="direccion" class="form-label">Dirección:</label>
            <input type="text" class="form-control" id="direccion" name="direccion" placeholder="Ingresa tu dirección" required />
          </div>

          <div class="mb-3">
            <label for="email" class="form-label">Email:</label>
            <input type="email" class="form-control" id="email" name="email" placeholder="Ingresa tu email" required />
          </div>

          <div class="mb-3">
            <label for="mensaje" class="form-label">Mensaje:</label>
            <textarea class="form-control" id="mensaje" name="mensaje" rows="4" placeholder="¿Alguna indicación especial?"></textarea>
          </div>
        </fieldset>

        <!-- Fecha de entrega -->
        <fieldset class="mb-4">
          <legend class="text-success">Fecha de Entrega</legend>
          <label for="fecha" class="form-label">Elija una fecha:</label>
          <input type="date" class="form-control" id="fecha" name="fecha" />
        </fieldset>

        <!-- Botones -->
        <div class="botones d-flex justify-content-center gap-3">
          <button type="reset" class="btn btn-danger">Borrar</button>
          <button type="submit" id="botonEnviar" class="btn btn-warning text-white">Confirmar Compra</button>
        </div>
      </form>
    </section>

    <!-- Información adicional -->
    <section class="info-envio mt-5 text-center p-4 rounded">
      <p><strong>Los envíos se realizan:</strong></p>
      <h2>Solo los martes</h2>
      <p>En el horario de:</p>
      <h2>9 a 14 horas</h2>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-success text-white py-4 mt-5">
    <div class="container">
      <div class="row">
        <section class="col-md-4 seccionpie">
          <h5>Sitio Web</h5>
          <p><a href="../index.html" class="text-white">Principal</a></p>
          <p><a href="../js/pedidos.html" class="text-white">Pedido</a></p>
        </section>
        <section class="col-md-4 seccionpie">
          <h5>Ayuda</h5>
          <p><a href="../js/contacto.html" class="text-white">Contacto</a></p>
        </section>
        <section class="col-md-4 seccionpie">
          <address>Buenos Aires, Argentina</address>
          <small>&copy; Quispe - Derechos Reservados 2024</small>
        </section>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Mostrar productos comprados -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const productos = JSON.parse(localStorage.getItem("productos")) || [];
      const total = parseFloat(localStorage.getItem("total")) || 0;

      const detalle = document.getElementById("detalle");
      const carritoData = document.getElementById("carritoData");
      const totalCarrito = document.getElementById("totalCarrito");

      if (productos.length === 0) {
        detalle.innerHTML = "<p>No hay productos en el carrito.</p>";
      } else {
        const lista = document.createElement("ul");
        lista.classList.add("list-group", "mb-3");

        productos.forEach(p => {
          const item = document.createElement("li");
          item.classList.add("list-group-item", "d-flex", "justify-content-between");
          item.textContent = `${p.nombre}`;
          const precio = document.createElement("span");
          precio.textContent = `$${p.precio}`;
          item.appendChild(precio);
          lista.appendChild(item);
        });

        const totalElem = document.createElement("h4");
        totalElem.textContent = `Total: $${total}`;
        totalElem.classList.add("text-success", "mt-3");

        detalle.appendChild(lista);
        detalle.appendChild(totalElem);

        carritoData.value = JSON.stringify(productos);
        totalCarrito.value = total;
      }
    });
  </script>
  <script>
  const formulario = document.getElementById("formulario");

  formulario.addEventListener("submit", () => {
    // Limpiar carrito después de enviar
    localStorage.removeItem("productos");
    localStorage.removeItem("total");
  });
</script>
  <!-- Carrito JS (por si se reutiliza alguna función) -->
  <script src="./js/carrito.js"></script>
</body>
</html>